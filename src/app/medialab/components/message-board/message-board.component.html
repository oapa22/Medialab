<div class="flex w-full h-full p-1 items-center overflow-hidden" *ngIf="this.messages.length > 0">

  <!-- boton izquierdo -->
  <button  [disabled]="this.audioPlay" (click)="this.prevImage()" >
    <svg width="12" height="18" viewBox="0 0 12 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path [ngClass]="{'fill-gray-400':this.audioPlay}"  d="M9.3484 17.0232L1.06496 9.92499C0.931515 9.81057 0.824396 9.66864 0.750956 9.50894C0.677515 9.34923 0.63949 9.17553 0.63949 8.99975C0.63949 8.82397 0.677515 8.65027 0.750956 8.49056C0.824396 8.33086 0.931515 8.18893 1.06496 8.07452L9.3484 0.976313C10.1391 0.298891 11.3604 0.860531 11.3604 1.90155L11.3604 16.1C11.3604 17.141 10.1391 17.7026 9.3484 17.0232Z" fill="white"/>
    </svg>
  </button>

  <!-- Tarjeta de mesaje -->
  <div class="relative w-[80%] h-full mx-auto  rounded-2xl shadow-md overflow-hidden ">

    <!-- Seccion de reproducir -->
    <div class="absolute flex  w-[80%] m-2 justify-between items-center ">
      <p class="text-sm font-bold text-white text-outline-black">{{this.messages[currentPosition].name}}</p>

      <button
        (click)="this.playAudio(audioPlayer)"
      >
          <svg
            width="35" height="35" viewBox="0 0 81 81" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path *ngIf="!this.audioPlay" d="M40.5 7.59375C22.3557 7.59375 7.59375 22.3557 7.59375 40.5C7.59375 58.6443 22.3557 73.4062 40.5 73.4062C58.6443 73.4062 73.4062 58.6443 73.4062 40.5C73.4062 22.3557 58.6443 7.59375 40.5 7.59375ZM52.3288 41.9713L34.2225 52.9095C33.963 53.0649 33.6667 53.1486 33.3642 53.1518C33.0617 53.155 32.7638 53.0777 32.501 52.9278C32.2382 52.7779 32.02 52.5608 31.8688 52.2987C31.7176 52.0367 31.6389 51.7391 31.6406 51.4366V29.5634C31.6389 29.2609 31.7176 28.9633 31.8688 28.7013C32.02 28.4392 32.2382 28.2221 32.501 28.0722C32.7638 27.9223 33.0617 27.845 33.3642 27.8482C33.6667 27.8514 33.963 27.9351 34.2225 28.0905L52.3288 39.0287C52.5812 39.1825 52.7898 39.3986 52.9346 39.6562C53.0793 39.9139 53.1553 40.2045 53.1553 40.5C53.1553 40.7955 53.0793 41.0861 52.9346 41.3438C52.7898 41.6014 52.5812 41.8175 52.3288 41.9713Z" fill="white" stroke="black"/>
              <path *ngIf="this.audioPlay" d="M40.5 7.59375C22.3557 7.59375 7.59375 22.3557 7.59375 40.5C7.59375 58.6443 22.3557 73.4062 40.5 73.4062C58.6443 73.4062 73.4062 58.6443 73.4062 40.5C73.4062 22.3557 58.6443 7.59375 40.5 7.59375ZM35.4375 50.625C35.4375 51.2963 35.1708 51.9402 34.6961 52.4149C34.2214 52.8896 33.5776 53.1562 32.9062 53.1562C32.2349 53.1562 31.5911 52.8896 31.1164 52.4149C30.6417 51.9402 30.375 51.2963 30.375 50.625V30.375C30.375 29.7037 30.6417 29.0598 31.1164 28.5851C31.5911 28.1104 32.2349 27.8438 32.9062 27.8438C33.5776 27.8438 34.2214 28.1104 34.6961 28.5851C35.1708 29.0598 35.4375 29.7037 35.4375 30.375V50.625ZM50.625 50.625C50.625 51.2963 50.3583 51.9402 49.8836 52.4149C49.4089 52.8896 48.7651 53.1562 48.0938 53.1562C47.4224 53.1562 46.7786 52.8896 46.3039 52.4149C45.8292 51.9402 45.5625 51.2963 45.5625 50.625V30.375C45.5625 29.7037 45.8292 29.0598 46.3039 28.5851C46.7786 28.1104 47.4224 27.8438 48.0938 27.8438C48.7651 27.8438 49.4089 28.1104 49.8836 28.5851C50.3583 29.0598 50.625 29.7037 50.625 30.375V50.625Z" fill="white" stroke="black"/>
          </svg>
      </button>

      <audio #audioPlayer class="hidden" [src]="this.messages[currentPosition].audio_url" (ended)="this.onAudioEnded()"></audio>
    </div>

    <!-- Imagend de protada -->
    <img
      [src]="this.messages[this.currentPosition].photo_url"
      class="w-full h-full object-cover rounded-2xl"
      alt=""
    >

  </div>


  <!-- boton derecho -->
  <button [disabled]="this.audioPlay" (click)="this.nextImage()" >
    <svg width="12" height="18" viewBox="0 0 12 18" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path [ngClass]="{'fill-gray-400':this.audioPlay}" d="M2.6516 0.976812L10.935 8.07501C11.0685 8.18943 11.1756 8.33136 11.249 8.49106C11.3225 8.65077 11.3605 8.82447 11.3605 9.00025C11.3605 9.17603 11.3225 9.34973 11.249 9.50944C11.1756 9.66914 11.0685 9.81107 10.935 9.92548L2.6516 17.0237C1.86094 17.7011 0.639648 17.1395 0.639648 16.0985V1.90001C0.639648 0.858999 1.86094 0.297359 2.6516 0.976812Z" fill="white"/>
    </svg>
  </button>
</div>
